function Timer(t){this._pauseTime=void 0===t?1e3:t,this._timer=null,this._isStarted=!1}Timer.prototype.start=function(){this.isStarted()&&this.stop();var t=this;this._timer=window.setTimeout(function(){"function"==typeof t.ontimer&&t.ontimer()},this._pauseTime),this._isStarted=!1},Timer.prototype.stop=function(){null!=this._timer&&window.clearTimeout(this._timer),this._isStarted=!1},Timer.prototype.isStarted=function(){return this._isStarted},Timer.prototype.getPauseTime=function(){return this._pauseTime},Timer.prototype.setPauseTime=function(t){this._pauseTime=t};
function Range(){this._value=0,this._minimum=0,this._maximum=100,this._extent=0,this._isChanging=!1}Range.prototype.setValue=function(t){t=Math.round(parseFloat(t)),isNaN(t)||this._value!=t&&(t+this._extent>this._maximum?this._value=this._maximum-this._extent:t<this._minimum?this._value=this._minimum:this._value=t,this._isChanging||"function"!=typeof this.onchange||this.onchange())},Range.prototype.getValue=function(){return this._value},Range.prototype.setExtent=function(t){this._extent!=t&&(t<0?this._extent=0:this._value+t>this._maximum?this._extent=this._maximum-this._value:this._extent=t,this._isChanging||"function"!=typeof this.onchange||this.onchange())},Range.prototype.getExtent=function(){return this._extent},Range.prototype.setMinimum=function(t){if(this._minimum!=t){var i=this._isChanging;this._isChanging=!0,(this._minimum=t)>this._value&&this.setValue(t),t>this._maximum&&(this._extent=0,this.setMaximum(t),this.setValue(t)),t+this._extent>this._maximum&&(this._extent=this._maximum-this._minimum),this._isChanging=i,this._isChanging||"function"!=typeof this.onchange||this.onchange()}},Range.prototype.getMinimum=function(){return this._minimum},Range.prototype.setMaximum=function(t){if(this._maximum!=t){var i=this._isChanging;this._isChanging=!0,(this._maximum=t)<this._value&&this.setValue(t-this._extent),t<this._minimum&&(this._extent=0,this.setMinimum(t),this.setValue(this._maximum)),t<this._minimum+this._extent&&(this._extent=this._maximum-this._minimum),t<this._value+this._extent&&(this._extent=this._maximum-this._value),this._isChanging=i,this._isChanging||"function"!=typeof this.onchange||this.onchange()}},Range.prototype.getMaximum=function(){return this._maximum};
function Slider(e,t,n){if(e){this._orientation=n||"horizontal",this._range=new Range,this._range.setExtent(0),this._blockIncrement=10,this._unitIncrement=1,this._timer=new Timer(100),Slider.isSupported&&e&&(this.document=e.ownerDocument||e.document,this.element=e,(this.element.slider=this).element.unselectable="on",this.element.className=this._orientation+" "+this.classNameTag+" "+this.element.className,this.line=this.document.createElement("DIV"),this.line.className="line",this.line.unselectable="on",this.line.appendChild(this.document.createElement("DIV")),this.element.appendChild(this.line),this.handle=this.document.createElement("DIV"),this.handle.className="handle",this.handle.unselectable="on",this.handle.appendChild(this.document.createElement("DIV")),this.handle.firstChild.appendChild(this.document.createTextNode(String.fromCharCode(160))),this.element.appendChild(this.handle)),this.input=t;var i=this;this._range.onchange=function(){i.recalculate(),"function"==typeof i.onchange&&i.onchange()},Slider.isSupported&&e?(this.element.onfocus=Slider.eventHandlers.onfocus,this.element.onblur=Slider.eventHandlers.onblur,this.element.onmousedown=Slider.eventHandlers.onmousedown,this.element.onmouseover=Slider.eventHandlers.onmouseover,this.element.onmouseout=Slider.eventHandlers.onmouseout,this.element.onkeydown=Slider.eventHandlers.onkeydown,this.element.onkeypress=Slider.eventHandlers.onkeypress,this.element.onmousewheel=Slider.eventHandlers.onmousewheel,this.handle.onselectstart=this.element.onselectstart=function(){return!1},this._timer.ontimer=function(){i.ontimer()},window.setTimeout(function(){i.recalculate()},1)):this.input.onchange=function(e){i.setValue(i.input.value)}}}Slider.isSupported=void 0!==document.createElement&&void 0!==document.documentElement&&"number"==typeof document.documentElement.offsetWidth,Slider.eventHandlers={getEvent:function(e,t){if(!(e=e||(t?t.document.parentWindow.event:window.event)).srcElement){for(t=e.target;null!=t&&1!=t.nodeType;)t=t.parentNode;e.srcElement=t}return void 0===e.offsetX&&(e.offsetX=e.layerX,e.offsetY=e.layerY),e},getDocument:function(e){return e.target?e.target.ownerDocument:e.srcElement.document},getSlider:function(e){for(var t=e.target||e.srcElement;null!=t&&null==t.slider;)t=t.parentNode;return t?t.slider:null},getLine:function(e){for(var t=e.target||e.srcElement;null!=t&&"line"!=t.className;)t=t.parentNode;return t},getHandle:function(e){for(var t=e.target||e.srcElement,n=/handle/;null!=t&&!n.test(t.className);)t=t.parentNode;return t},onfocus:function(e){var t=this.slider;t._focused=!0,t.handle.className="handle hover"},onblur:function(e){var t=this.slider;t._focused=!1,t.handle.className="handle"},onmouseover:function(e){e=Slider.eventHandlers.getEvent(e,this);var t=this.slider;e.srcElement==t.handle&&(t.handle.className="handle hover")},onmouseout:function(e){setTimeout(function (){MySlider._mouseX=undefined;MySlider._mouseY=undefined;},100);e=Slider.eventHandlers.getEvent(e,this);var t=this.slider;e.srcElement!=t.handle||t._focused||(t.handle.className="handle")},onmousedown:function(e){e=Slider.eventHandlers.getEvent(e,this);var t=this.slider;t.element.focus&&t.element.focus();var n=(Slider._currentInstance=t).document;if(n.addEventListener?(n.addEventListener("mousemove",Slider.eventHandlers.onmousemove,!0),n.addEventListener("mouseup",Slider.eventHandlers.onmouseup,!0)):n.attachEvent&&(n.attachEvent("onmousemove",Slider.eventHandlers.onmousemove),n.attachEvent("onmouseup",Slider.eventHandlers.onmouseup),n.attachEvent("onlosecapture",Slider.eventHandlers.onmouseup),t.element.setCapture()),Slider.eventHandlers.getHandle(e))Slider._sliderDragData={screenX:e.screenX,screenY:e.screenY,dx:e.screenX-t.handle.offsetLeft,dy:e.screenY-t.handle.offsetTop,startValue:t.getValue(),slider:t};else{var i=Slider.eventHandlers.getLine(e);t._mouseX=e.offsetX+(i?t.line.offsetLeft:0),t._mouseY=e.offsetY+(i?t.line.offsetTop:0),t._increasing=null,t.ontimer()}},onmousemove:function(e){if(e=Slider.eventHandlers.getEvent(e,this),Slider._sliderDragData){var t,n,i,s=(l=Slider._sliderDragData.slider).getMaximum()-l.getMinimum();return i="horizontal"==l._orientation?(t=l.element.offsetWidth-l.handle.offsetWidth,n=e.screenX-Slider._sliderDragData.dx,100<Math.abs(e.screenY-Slider._sliderDragData.screenY)):(t=l.element.offsetHeight-l.handle.offsetHeight,n=l.element.offsetHeight-l.handle.offsetHeight-(e.screenY-Slider._sliderDragData.dy),100<Math.abs(e.screenX-Slider._sliderDragData.screenX)),l.setValue(i?Slider._sliderDragData.startValue:l.getMinimum()+s*n/t),!1}var l;if(null!=(l=Slider._currentInstance)){var r=Slider.eventHandlers.getLine(e);l._mouseX=e.offsetX+(r?l.line.offsetLeft:0),l._mouseY=e.offsetY+(r?l.line.offsetTop:0)}},onmouseup:function(e){e=Slider.eventHandlers.getEvent(e,this);var t=Slider._currentInstance,n=t.document;n.removeEventListener?(n.removeEventListener("mousemove",Slider.eventHandlers.onmousemove,!0),n.removeEventListener("mouseup",Slider.eventHandlers.onmouseup,!0)):n.detachEvent&&(n.detachEvent("onmousemove",Slider.eventHandlers.onmousemove),n.detachEvent("onmouseup",Slider.eventHandlers.onmouseup),n.detachEvent("onlosecapture",Slider.eventHandlers.onmouseup),t.element.releaseCapture()),Slider._sliderDragData?Slider._sliderDragData=null:(t._timer.stop(),t._increasing=null),Slider._currentInstance=null},onkeydown:function(e){e=Slider.eventHandlers.getEvent(e,this);var t=this.slider,n=e.keyCode;switch(n){case 33:t.setValue(t.getValue()+t.getBlockIncrement());break;case 34:t.setValue(t.getValue()-t.getBlockIncrement());break;case 35:t.setValue("horizontal"==t.getOrientation()?t.getMaximum():t.getMinimum());break;case 36:t.setValue("horizontal"==t.getOrientation()?t.getMinimum():t.getMaximum());break;case 38:case 39:t.setValue(t.getValue()+t.getUnitIncrement());break;case 37:case 40:t.setValue(t.getValue()-t.getUnitIncrement())}if(33<=n&&n<=40)return!1},onkeypress:function(e){var t=(e=Slider.eventHandlers.getEvent(e,this)).keyCode;if(33<=t&&t<=40)return!1},onmousewheel:function(e){e=Slider.eventHandlers.getEvent(e,this);var t=this.slider;if(t._focused)return t.setValue(t.getValue()+e.wheelDelta/120*t.getUnitIncrement()),!1}},Slider.prototype.classNameTag="dynamic-slider-control",Slider.prototype.setValue=function(e){this._range.setValue(e),this.input.value=this.getValue()},Slider.prototype.getValue=function(){return this._range.getValue()},Slider.prototype.setMinimum=function(e){this._range.setMinimum(e),this.input.value=this.getValue()},Slider.prototype.getMinimum=function(){return this._range.getMinimum()},Slider.prototype.setMaximum=function(e){this._range.setMaximum(e),this.input.value=this.getValue()},Slider.prototype.getMaximum=function(){return this._range.getMaximum()},Slider.prototype.setUnitIncrement=function(e){this._unitIncrement=e},Slider.prototype.getUnitIncrement=function(){return this._unitIncrement},Slider.prototype.setBlockIncrement=function(e){this._blockIncrement=e},Slider.prototype.getBlockIncrement=function(){return this._blockIncrement},Slider.prototype.getOrientation=function(){return this._orientation},Slider.prototype.setOrientation=function(e){e!=this._orientation&&(Slider.isSupported&&this.element&&(this.element.className=this.element.className.replace(this._orientation,e)),this._orientation=e,this.recalculate())},Slider.prototype.recalculate=function(){if(Slider.isSupported&&this.element){var e=this.element.offsetWidth,t=this.element.offsetHeight,n=this.handle.offsetWidth,i=this.handle.offsetHeight,s=this.line.offsetWidth,l=this.line.offsetHeight;"horizontal"==this._orientation?(this.handle.style.left=(e-n)*(this.getValue()-this.getMinimum())/(this.getMaximum()-this.getMinimum())+"px",this.handle.style.top=(t-i)/2+"px",this.line.style.top=(t-l)/2+"px",this.line.style.left=n/2+"px",this.line.style.width=Math.max(0,e-n-2)+"px",this.line.firstChild.style.width=Math.max(0,e-n-4)+"px"):(this.handle.style.left=(e-n)/2+"px",this.handle.style.top=t-i-(t-i)*(this.getValue()-this.getMinimum())/(this.getMaximum()-this.getMinimum())+"px",this.line.style.left=(e-s)/2+"px",this.line.style.top=i/2+"px",this.line.style.height=Math.max(0,t-i-2)+"px",this.line.style.top="0px",this.line.style.height="98px",this.line.firstChild.style.height=Math.max(0,t-i-4)+"px")}},Slider.prototype.ontimer=function(){var e=this.handle.offsetWidth,t=this.handle.offsetHeight,n=this.handle.offsetLeft,i=this.handle.offsetTop;"horizontal"==this._orientation?this._mouseX>n+e&&(null==this._increasing||this._increasing)?(this.setValue(this.getValue()+this.getBlockIncrement()),this._increasing=!0):this._mouseX<n&&(null==this._increasing||!this._increasing)&&(this.setValue(this.getValue()-this.getBlockIncrement()),this._increasing=!1):this._mouseY>i+t&&(null==this._increasing||!this._increasing)?(this.setValue(this.getValue()-this.getBlockIncrement()),this._increasing=!1):this._mouseY<i&&(null==this._increasing||this._increasing)&&(this.setValue(this.getValue()+this.getBlockIncrement()),this._increasing=!0),this._timer.start()};